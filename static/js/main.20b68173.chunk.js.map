{"version":3,"sources":["services/ApiService.js","actions/categories.js","reducers/categories.js","actions/questions.js","reducers/questions.js","reducers/index.js","components/Header.js","pages/Categories.js","components/Level.js","components/Modal.js","pages/Trivia.js","pages/Report.js","App.js","serviceWorker.js","index.js"],"names":["CATEGORIES_URL","QUESTION_URL","a","axios","get","resp","data","trivia_categories","getQuestions","category_id","difficulty","replace","results","CATEGORIES","categories","list","dispatch","getCategories","then","type","state","action","QUESTIONS","ANSWER","CLEAR_QUESTIONS","questions","answers","map","question","options","incorrect_answers","correct_answer","sort","Math","random","answer","combineReducers","Header","Component","Categories","this","props","length","className","category","key","id","to","name","connect","Level","levels","easy","stars","text","medium","hard","level","Modal","correct","next","onClick","autoFocus","MAX_QUESTIONS","MEDIUM","Trivia","selected_answer","question_index","filter","selectAnswer","e","setState","target","value","submit","preventDefault","date_time","Date","answerQuestion","close","history","push","form","current","reset","calcFilter","next_filter","last","nexttolast","Promise","all","q","href","dangerouslySetInnerHTML","__html","ref","createRef","onChange","onSubmit","option","btoa","disabled","withRouter","Report","total_hits","total_mistakes","easy_hits","easy_mistakes","medium_hits","medium_mistakes","hard_hits","hard_mistakes","window","scrollTo","new_state","reduce","result","cached_answers","localStorage","getItem","JSON","parse","setItem","stringify","src","alt","App","path","exact","render","match","params","isLocalhost","Boolean","location","hostname","registerValidSW","swUrl","config","navigator","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","controller","console","log","onUpdate","onSuccess","catch","error","store","createStore","reducers","applyMiddleware","thunk","ReactDOM","document","getElementById","URL","process","origin","addEventListener","fetch","response","contentType","headers","status","indexOf","ready","unregister","reload","checkValidServiceWorker"],"mappings":"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","file":"static/js/main.20b68173.chunk.js","sourcesContent":["import axios from 'axios';\n\nconst API_BASE_URL = 'https://opentdb.com';\nexport const CATEGORIES_URL = `${API_BASE_URL}/api_category.php`;\nexport const QUESTION_URL = `${API_BASE_URL}/api.php?amount=10&difficulty={difficulty}&type=multiple&category={category}`;\n\nexport async function getCategories() {\n  const resp =  await axios.get(CATEGORIES_URL);\n  return resp.data.trivia_categories;\n}\n\nexport async function getQuestions(category_id, difficulty) {\n  const resp =  await axios.get(QUESTION_URL\n    .replace('{difficulty}', difficulty)\n    .replace('{category}', category_id));\n  return resp.data.results;\n}\n","import { getCategories } from '../services/ApiService';\n\nexport const CATEGORIES = 'CATEGORIES_ACTION';\n\nexport function categories(list) {\n  return function(dispatch) {\n    getCategories().then(categories => {\n      dispatch({ type: CATEGORIES, list: categories })\n    });\n  }\n}\n","import { CATEGORIES } from '../actions/categories.js';\n\nconst categories = (state = { categories: [] }, action) => {\n  switch(action.type) {\n    case CATEGORIES:\n      return { categories: action.list };\n    default:\n      return state;\n  }\n}\n\nexport default categories;\n","import { getQuestions } from '../services/ApiService';\n\nexport const QUESTIONS = 'QUESTIONS_ACTION';\nexport const ANSWER = 'ANSWER_ACTION';\nexport const CLEAR_QUESTIONS = 'CLEAR_QUESTIONS_ACTION';\n\nexport function questions(category_id, difficulty) {\n  return function(dispatch) {\n    Promise.all([\n      getQuestions(category_id, 'easy'),\n      getQuestions(category_id, 'medium'),\n      getQuestions(category_id, 'hard')\n    ]).then(([ easy, medium, hard ]) => {\n      dispatch({ type: QUESTIONS, questions: [ ...easy, ...medium, ...hard ] })\n    });\n  }\n}\n\nexport function clearQuestions() {\n  return { type: CLEAR_QUESTIONS };\n}\n\nexport function answerQuestion(answer) {\n  return { type: ANSWER, answer };\n}\n\n","import { QUESTIONS, ANSWER, CLEAR_QUESTIONS } from '../actions/questions.js';\n\nconst questions = (state = { questions: [], answers: [] }, action) => {\n  switch(action.type) {\n    case QUESTIONS:\n      const questions = action.questions.map(question => {\n        const options = (question.incorrect_answers && question.correct_answer) ?\n          [...question.incorrect_answers, question.correct_answer] : [];\n        options.sort(() => Math.random() - 0.5); // Shuffle\n        return {...question, options };\n      });\n      return { ...state, questions };\n    case ANSWER:\n      const answers = [...state.answers, action.answer];\n      return { ...state, answers };\n    case CLEAR_QUESTIONS:\n      return { questions: [], answers: [] };\n    default:\n      return state;\n  }\n}\n\nexport default questions;\n","import { combineReducers } from 'redux';\nimport categories from './categories';\nimport questions from './questions';\n\nexport default combineReducers({\n  categories,\n  questions\n});\n","import React, { Component } from 'react';\nimport './Header.scss';\n\nclass Header extends Component {\n  render() {\n    return (\n      <header>\n        <h1>Quiz</h1>\n      </header>\n    );\n  }\n}\n\nexport default Header;\n","import React, { Component, Fragment } from 'react';\nimport { connect } from 'react-redux';\nimport { Link } from 'react-router-dom';\nimport { categories } from '../actions/categories';\n\nclass Categories extends Component {\n\n  componentDidMount() {\n    this.props.dispatch(categories());\n  }\n\n  render() {\n    const { categories } = this.props;\n\n    return (\n      <Fragment>\n        <h1>Categories</h1>\n        {categories.length === 0 && 'Loading...'}\n        <div className='card-group'>\n          {categories.map(category =>\n            <Link className='card' key={category.id} to={'/trivia/' + category.id}>{category.name}</Link>\n          )}\n        </div>\n      </Fragment>\n    );\n  }\n}\n\nexport default connect(({ categories }) => categories)(Categories);\n","import React, { Component } from 'react';\nimport './Level.scss';\n\nclass Level extends Component {\n\n  levels = {\n    easy: { stars: '★☆☆', text: 'Easy' },\n    medium: { stars: '★★☆', text: 'Medium' },\n    hard: { stars: '★★★', text: 'Hard' },\n  }\n\n  render() {\n    const { difficulty } = this.props;\n    const level = this.levels[difficulty] || {};\n\n    return (\n      <div className='level'>\n        <span className='level-stars'>{level.stars}</span>\n        {level.text}\n      </div>\n    );\n  }\n}\n\nexport default Level;\n","import React, { Fragment } from 'react';\nimport './Modal.scss';\n\nfunction Modal({ correct, next }) {\n  return (\n    <Fragment>\n      <div className='modal-overlay' />\n      <div className={'modal ' + (!correct && 'red')}>\n        <i className='modal-icon' />\n        <h2>{correct ? 'You got it right!' : 'Wrong answer!'}</h2>\n        <button onClick={next} autoFocus>Next <i>→</i></button>\n      </div>\n    </Fragment>\n  );\n}\n\nexport default Modal;\n\n","import React, { Component, Fragment, createRef } from 'react';\nimport { connect } from 'react-redux';\nimport { withRouter } from 'react-router-dom';\nimport { questions, clearQuestions, answerQuestion } from '../actions/questions';\nimport Level from '../components/Level'\nimport Modal from '../components/Modal'\n\nconst MAX_QUESTIONS = 10;\nconst EASY = 'easy';\nconst MEDIUM = 'medium';\nconst HARD = 'hard';\n\nclass Trivia extends Component {\n\n  state = {\n    selected_answer: null,\n    question_index: 0,\n    correct: null,\n    filter: MEDIUM\n  }\n\n  selectAnswer = (e) => {\n    this.setState({ selected_answer: e.target.value });\n  }\n\n  submit = (e, question) => {\n    e.preventDefault();\n    const correct = this.state.selected_answer === question.correct_answer;\n    this.setState({ correct });\n\n    const answer = {\n      ...question,\n      selected_answer: this.state.selected_answer,\n      correct,\n      date_time: new Date()\n    };\n    this.props.dispatch(answerQuestion(answer));\n  }\n\n  close = (e) => {\n    e.preventDefault();\n    this.props.history.push('/');\n  }\n\n  next = (e) => {\n    e.preventDefault();\n    const { question_index } = this.state;\n    const { answers } = this.props;\n\n    if (answers.length < MAX_QUESTIONS) {\n      this.form.current.reset();\n      this.setState({\n        selected_answer: null,\n        question_index: question_index + 1,\n        correct: null,\n        filter: this.calcFilter()\n      });\n    }\n    else {\n      this.props.history.push('/report/' + this.props.category);\n    }\n  }\n\n  calcFilter() {\n    const { answers } = this.props;\n    let next_filter = this.state.filter;\n\n    if (answers.length > 1) {\n      const last = answers[answers.length-1];\n      const nexttolast = answers[answers.length-2];\n\n      if (last.correct === true && nexttolast.correct === true) {\n        if (last.difficulty === EASY && nexttolast.difficulty === EASY) {\n          next_filter = MEDIUM;\n        }\n        else if (last.difficulty === MEDIUM && nexttolast.difficulty === MEDIUM) {\n          next_filter = HARD;\n        }\n      }\n      else if (last.correct === false && nexttolast.correct === false) {\n        if (last.difficulty === HARD && nexttolast.difficulty === HARD) {\n          next_filter = MEDIUM;\n        }\n        else if (last.difficulty === MEDIUM && nexttolast.difficulty === MEDIUM) {\n          next_filter = EASY;\n        }\n      }\n    }\n\n    return next_filter;\n  }\n\n  componentDidMount() {\n    this.props.dispatch(questions(this.props.category));\n  }\n\n  componentWillUnmount() {\n    this.props.dispatch(clearQuestions());\n  }\n\n  render() {\n    const { selected_answer, question_index, correct, filter } = this.state;\n    const { questions } = this.props;\n    const question = questions.filter(q => q.difficulty === filter)[question_index] || {};\n\n    return !question.question ? 'Loading...' : (\n      <Fragment>\n        <a href='#close' onClick={this.close}><i>ⓧ</i> Close</a>\n        <h2>{question.category}</h2>\n        <section>\n          <Level difficulty={question.difficulty} />\n          <h3>Question {question_index + 1}</h3>\n          {/* Needs to use dangerouslySetInnerHTML because api returns some HTML encoded text */}\n          <p dangerouslySetInnerHTML={{ __html: question.question }} />\n          <form className='answers' ref={this.form = createRef()}\n            onChange={this.selectAnswer}\n            onSubmit={e => this.submit(e, question)}>\n            {question.options && question.options.map(option =>\n              <label key={btoa(option)}>\n                <input type='radio' name='option' value={option} />\n                <span dangerouslySetInnerHTML={{ __html: option }} />\n              </label>\n            )}\n            <button type='submit' disabled={!selected_answer}>Send answer</button>\n            {correct !== null && <Modal correct={correct} next={this.next} />}\n          </form>\n        </section>\n      </Fragment>\n    );\n  }\n}\n\nexport default connect(({ questions }) => questions)(withRouter(Trivia));\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { Link } from 'react-router-dom';\nimport './Report.scss';\n\nconst EASY = 'easy';\nconst MEDIUM = 'medium';\nconst HARD = 'hard';\n\nclass Report extends Component {\n\n  state = {\n    total_hits: 0,\n    total_mistakes: 0,\n    easy_hits: 0,\n    easy_mistakes: 0,\n    medium_hits: 0,\n    medium_mistakes: 0,\n    hard_hits: 0,\n    hard_mistakes: 0\n  }\n  \n  componentDidMount() {\n    window.scrollTo(0, 0);\n    const { answers, category } = this.props;\n\n    let new_state = answers.reduce((result, answer) => {\n      answer.correct ? result.total_hits++ : result.total_mistakes++;\n      switch (answer.difficulty) {\n        case EASY:\n          answer.correct ? result.easy_hits++ : result.easy_mistakes++;\n          break;\n        case MEDIUM:\n          answer.correct ? result.medium_hits++ : result.medium_mistakes++;\n          break;\n        case HARD:\n          answer.correct ? result.hard_hits++ : result.hard_mistakes++;\n          break;\n        default:\n      }\n      return result;\n    }, { ...this.state });\n\n    const cached_answers = window.localStorage.getItem('category_' + category);\n    new_state = cached_answers ? JSON.parse(cached_answers) : new_state;\n    window.localStorage.setItem('category_' + category, JSON.stringify(new_state));\n    this.setState(new_state);\n  }\n\n  render() {\n    const {\n      total_hits,  total_mistakes,\n      easy_hits,   easy_mistakes,\n      medium_hits, medium_mistakes,\n      hard_hits,   hard_mistakes\n    } = this.state;\n\n    return (\n      <div className='report'>\n        <div className='report-head'>\n          <img src='./mascot.png' alt='Mascot' />\n          <div className='report-congrats'>\n            <h1>Congrats!</h1>\n            <h2>You finished the test</h2>\n          </div>\n        </div>\n        <div className='report-body'>\n          <h3>See your performance</h3>\n          <div className='report-resume'>\n            <div className='report-resume-points'>\n              <div>{total_hits}</div>\n              <span>hits</span>\n            </div>\n            <div className='report-resume-points'>\n              <div>{total_mistakes}</div>\n              <span>mistakes</span>\n            </div>\n          </div>\n          <div className='report-detail'>\n            <div>\n              <b>Easy</b><br />\n              Hits: {easy_hits}<br />\n              Mistakes: {easy_mistakes}\n            </div>\n            <div>\n              <b>Medium</b><br />\n              Hits: {medium_hits}<br />\n              Mistakes: {medium_mistakes}\n            </div>\n            <div>\n              <b>Hard</b><br />\n              Hits: {hard_hits}<br />\n              Mistakes: {hard_mistakes}\n            </div>\n          </div>\n          <Link to='/'>\n            <button>Back to start</button>\n          </Link>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default connect(({ questions }) => questions)(Report);\n","import React, { Component, Fragment } from 'react';\nimport { HashRouter as Router, Route, Redirect } from 'react-router-dom';\nimport Header from './components/Header';\nimport Categories from './pages/Categories';\nimport Trivia from './pages/Trivia';\nimport Report from './pages/Report';\nimport './App.scss';\n\nclass App extends Component {\n  render() {\n    return (\n      <Fragment>\n        <Header />\n        <main>\n          <Router>\n            <Route path='/' exact render={() => <Categories />} />\n            <Route path='/trivia/:category' render={({ match }) => {\n              const category = match.params.category;\n              const cached_answers = window.localStorage.getItem('category_' + category);\n              return cached_answers ? (<Redirect to={'/report/' + category} />) : (<Trivia category={category} />);\n            }} />\n            <Route path='/report/:category' render={({ match }) => {\n              const category = match.params.category;\n              return <Report category={category} />\n            }} />\n          </Router>\n        </main>\n      </Fragment>\n    );\n  }\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport { createStore, applyMiddleware } from 'redux';\nimport thunk from 'redux-thunk';\nimport reducers from './reducers';\nimport App from './App';\nimport './index.scss';\nimport * as serviceWorker from './serviceWorker';\n\nconst store = createStore(reducers, applyMiddleware(thunk));\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById('root')\n);\n\nserviceWorker.register();\n"],"sourceRoot":""}